(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{162:function(e,t,s){},202:function(e,t,s){},204:function(e,t,s){},283:function(e,t,s){var n={"./apl/apl.js":[303,27],"./asciiarmor/asciiarmor.js":[304,28],"./asn.1/asn.1.js":[305,29],"./asterisk/asterisk.js":[306,30],"./brainfuck/brainfuck.js":[307,31],"./clike/clike.js":[293,2],"./clojure/clojure.js":[308,32],"./cmake/cmake.js":[309,33],"./cobol/cobol.js":[310,34],"./coffeescript/coffeescript.js":[294,35],"./commonlisp/commonlisp.js":[311,36],"./crystal/crystal.js":[312,37],"./css/css.js":[290,1],"./cypher/cypher.js":[313,38],"./d/d.js":[314,39],"./dart/dart.js":[315,2,40],"./diff/diff.js":[316,41],"./django/django.js":[317,0,1,11],"./dockerfile/dockerfile.js":[318,17],"./dtd/dtd.js":[319,42],"./dylan/dylan.js":[320,43],"./ebnf/ebnf.js":[321,44],"./ecl/ecl.js":[322,45],"./eiffel/eiffel.js":[323,46],"./elm/elm.js":[324,47],"./erlang/erlang.js":[325,48],"./factor/factor.js":[326,18],"./fcl/fcl.js":[327,49],"./forth/forth.js":[328,50],"./fortran/fortran.js":[329,51],"./gas/gas.js":[330,52],"./gfm/gfm.js":[331,16],"./gherkin/gherkin.js":[332,53],"./go/go.js":[333,54],"./groovy/groovy.js":[334,55],"./haml/haml.js":[335,0,1,13],"./handlebars/handlebars.js":[295,9],"./haskell-literate/haskell-literate.js":[336,22],"./haskell/haskell.js":[296,56],"./haxe/haxe.js":[337,57],"./htmlembedded/htmlembedded.js":[338,0,1,10],"./htmlmixed/htmlmixed.js":[289,0,1,58],"./http/http.js":[339,59],"./idl/idl.js":[340,60],"./javascript/javascript.js":[291,0],"./jinja2/jinja2.js":[341,61],"./jsx/jsx.js":[342,0,62],"./julia/julia.js":[343,63],"./livescript/livescript.js":[344,64],"./lua/lua.js":[345,65],"./markdown/markdown.js":[131],"./mathematica/mathematica.js":[346,66],"./mbox/mbox.js":[347,67],"./meta.js":[137],"./mirc/mirc.js":[348,68],"./mllike/mllike.js":[349,69],"./modelica/modelica.js":[350,70],"./mscgen/mscgen.js":[351,71],"./mumps/mumps.js":[352,72],"./nginx/nginx.js":[353,73],"./nsis/nsis.js":[354,19],"./ntriples/ntriples.js":[355,74],"./octave/octave.js":[356,75],"./oz/oz.js":[357,76],"./pascal/pascal.js":[358,77],"./pegjs/pegjs.js":[359,0,78],"./perl/perl.js":[360,79],"./php/php.js":[361,0,1,2,23],"./pig/pig.js":[362,80],"./powershell/powershell.js":[363,81],"./properties/properties.js":[364,82],"./protobuf/protobuf.js":[365,83],"./pug/pug.js":[297,0,1,24],"./puppet/puppet.js":[366,84],"./python/python.js":[298,85],"./q/q.js":[367,86],"./r/r.js":[368,87],"./rpm/rpm.js":[369,88],"./rst/rst.js":[370,8],"./ruby/ruby.js":[292,89],"./rust/rust.js":[371,20],"./sas/sas.js":[372,90],"./sass/sass.js":[300,1,91],"./scheme/scheme.js":[373,92],"./shell/shell.js":[374,93],"./sieve/sieve.js":[375,94],"./slim/slim.js":[376,0,1,14],"./smalltalk/smalltalk.js":[377,95],"./smarty/smarty.js":[378,96],"./solr/solr.js":[379,97],"./soy/soy.js":[380,0,1,25],"./sparql/sparql.js":[381,98],"./spreadsheet/spreadsheet.js":[382,99],"./sql/sql.js":[383,100],"./stex/stex.js":[299,101],"./stylus/stylus.js":[302,3],"./swift/swift.js":[384,102],"./tcl/tcl.js":[385,103],"./textile/textile.js":[386,104],"./tiddlywiki/tiddlywiki.js":[387,105],"./tiki/tiki.js":[388,106],"./toml/toml.js":[389,107],"./tornado/tornado.js":[390,0,1,12],"./troff/troff.js":[391,108],"./ttcn-cfg/ttcn-cfg.js":[393,109],"./ttcn/ttcn.js":[392,110],"./turtle/turtle.js":[394,111],"./twig/twig.js":[395,15],"./vb/vb.js":[396,112],"./vbscript/vbscript.js":[397,113],"./velocity/velocity.js":[398,114],"./verilog/verilog.js":[399,115],"./vhdl/vhdl.js":[400,116],"./vue/vue.js":[401,0,1,3,7],"./wast/wast.js":[402,21],"./webidl/webidl.js":[403,117],"./xml/xml.js":[148],"./xquery/xquery.js":[404,118],"./yacas/yacas.js":[405,119],"./yaml-frontmatter/yaml-frontmatter.js":[406,26],"./yaml/yaml.js":[301,120],"./z80/z80.js":[407,121]};function r(e){if(!s.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(s.e)).then((function(){return s.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=283,e.exports=r},286:function(e,t){function s(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}s.keys=function(){return[]},s.resolve=s,e.exports=s,s.id=286},287:function(e,t,s){},288:function(e,t,s){"use strict";s.r(t);var n,r,a=s(46),c=s.n(a),i=(s(202),s(203),s(0)),o=s(190),j=s(193),l=s(196),d=s(409),u=(s(204),s(32)),m="/",b="/signin",h="/signup",p="/project",O="/test/syncing",x=s(31),f=s(411),g=s(412),v=s(414),y=s(92),w=s(55),k=s(6),P=function(){var e=f.a.useForm(),t=Object(x.a)(e,1)[0],s=Object(i.useState)({}),n=Object(x.a)(s,2)[1];Object(i.useEffect)((function(){n({})}),[]);return Object(k.jsxs)(g.a,{style:{width:"90%",margin:"auto",marginTop:"2em"},children:[Object(k.jsx)("h1",{children:"Projects"}),Object(k.jsxs)(f.a,{form:t,name:"horizontal_login",layout:"inline",onFinish:function(e){console.log("Finish:",e)},children:[Object(k.jsx)(f.a.Item,{name:"Project",rules:[{required:!0,message:"Please enter the project name!"}],children:Object(k.jsx)(v.a,{placeholder:"Project Name"})}),Object(k.jsx)(f.a.Item,{shouldUpdate:!0,children:function(){return Object(k.jsx)(y.a,{type:"primary",htmlType:"submit",disabled:!t.isFieldsTouched(!0)||!!t.getFieldsError().filter((function(e){return e.errors.length})).length,children:"Add"})}})]}),Object(k.jsx)("br",{}),Object(k.jsx)("p",{children:"TODO: Make List "}),"Hard coded examples:"," ",Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(w.b,{to:"/project?projectID=ExampleID",children:"Example_Project (Solo markdown editor version)"})}),Object(k.jsx)("li",{children:Object(k.jsx)(w.b,{to:"/test/syncing?projectID=ExampleID",children:"Test Multi-user Editing on Editor"})})]})]})},I=s(121),S=s(62),C=s(59),E=(s(162),{labelCol:{span:8},wrapperCol:{span:16}}),D={wrapperCol:{offset:8,span:16}},F=Object(C.a)(n||(n=Object(I.a)(["\n  mutation signin($username: String!, $password: String!) {\n    signIn(username: $username, password: $password) {\n      id\n      username\n      firstname\n      lastname\n      email\n      token\n      createdAt\n    }\n  }\n"]))),T=function(e){console.log(e);var t=Object(i.useState)({}),s=Object(x.a)(t,2),n=s[0],r=s[1],a=Object(i.useState)({username:"",password:""}),c=Object(x.a)(a,2),o=c[0],j=c[1],l=Object(d.useMutation)(F,{update:function(t,s){console.log(s),e.history.push(m)},onError:function(e){console.log(e.graphQLErrors[0].extensions.exception.errors),r(e.graphQLErrors[0].extensions.exception.errors)},variables:o}),u=Object(x.a)(l,2),b=u[0],p=u[1].loading;return Object(k.jsx)(g.a,{style:{width:"500px",margin:"auto",marginTop:"2em"},children:Object(k.jsxs)(f.a,Object(S.a)(Object(S.a)({},E),{},{name:"basic",initialValues:{remember:!0},noValidate:!0,className:p?"loading":"",onFinish:function(e){console.log("Received values of form: ",e),j({username:e.username,password:e.password}),b()},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(k.jsx)(f.a.Item,{children:Object(k.jsx)("h1",{children:"Sign In"})}),Object(k.jsx)(f.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(f.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)(v.a.Password,{})}),Object(k.jsx)(f.a.Item,{name:"signup",children:Object(k.jsx)(w.b,{to:h,children:"New user? Sign up here!"})}),Object(k.jsx)(f.a.Item,Object(S.a)(Object(S.a)({},D),{},{children:Object(k.jsx)(y.a,{type:"primary",htmlType:"submit",children:"Sign In"})})),Object(k.jsx)(f.a.Item,{children:Object.keys(n).length>0?Object(k.jsx)("div",{className:"error",children:Object(k.jsx)("ul",{className:"list",children:Object.values(n).map((function(e){return Object(k.jsx)("li",{children:e},e)}))})}):Object(k.jsx)("div",{})})]}))})},M={labelCol:{span:8},wrapperCol:{span:16}},N={wrapperCol:{offset:8,span:16}},q=Object(C.a)(r||(r=Object(I.a)(["\n  mutation signup(\n    $username: String!\n    $email: String!\n    $firstname: String!\n    $lastname: String!\n    $password: String!\n    $confirmPassword: String!\n  ) {\n    signUp(\n      userData: {\n        username: $username\n        firstname: $firstname\n        lastname: $lastname\n        email: $email\n        password: $password\n        confirmPassword: $confirmPassword\n      }\n    ) {\n      id\n      username\n      firstname\n      lastname\n      email\n      token\n      createdAt\n    }\n  }\n"]))),$=function(e){var t=Object(i.useState)({}),s=Object(x.a)(t,2),n=s[0],r=s[1],a=Object(i.useState)({username:"",firstname:"",lastname:"",email:"",password:"",confirmPassword:""}),c=Object(x.a)(a,2),o=c[0],j=c[1],l=Object(d.useMutation)(q,{update:function(t,s){console.log(s),e.history.push(m)},onError:function(e){console.log(e.graphQLErrors[0].extensions.exception.errors),r(e.graphQLErrors[0].extensions.exception.errors)},variables:o}),u=Object(x.a)(l,2),b=u[0],h=u[1].loading;return Object(k.jsx)("div",{style:{width:"500px",margin:"auto",marginTop:"2em"},children:Object(k.jsxs)(f.a,Object(S.a)(Object(S.a)({},M),{},{name:"basic",noValidate:!0,className:h?"loading":"",initialValues:{remember:!0},onFinish:function(e){console.log("Received values of form: ",e),j({username:e.username,firstname:e.firstname,lastname:e.lastname,email:e.email,password:e.password,confirmPassword:e.confirmPassword}),b()},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(k.jsx)(f.a.Item,{children:Object(k.jsx)("h1",{children:"Sign Up"})}),Object(k.jsx)(f.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(f.a.Item,{label:"Firstname",name:"firstname",rules:[{required:!0,message:"Please input your firstname!"}],children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(f.a.Item,{label:"Lastname",name:"lastname",rules:[{required:!0,message:"Please input your lastname!"}],children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(f.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email!",type:"email"}],children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(f.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(k.jsx)(v.a.Password,{})}),Object(k.jsx)(f.a.Item,{label:"Confirm Password",name:"confirmPassword",rules:[{required:!0,message:"Please re-enter your password!"}],children:Object(k.jsx)(v.a.Password,{})}),Object(k.jsx)(f.a.Item,Object(S.a)(Object(S.a)({},N),{},{children:Object(k.jsx)(y.a,{type:"primary",htmlType:"submit",children:"Sign Up"})})),Object(k.jsx)(f.a.Item,{children:Object.keys(n).length>0?Object(k.jsx)("div",{className:"ui error message",children:Object(k.jsx)("ul",{className:"list",children:Object.values(n).map((function(e){return Object(k.jsx)("li",{children:e},e)}))})}):Object(k.jsx)("div",{})})]}))})},U=s(93),H=s(57),L=s(125),R=s.n(L),_=s(126),z=(s(174),s(175),s(131),function(){var e=Object(i.useState)("# Heading\n\n Hello"),t=Object(x.a)(e,2),s=t[0],n=t[1],r=Object(i.useState)(""),a=Object(x.a)(r,2),c=a[0],o=a[1],j=new R.a.Converter;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(g.a,{style:{width:"90%",margin:"auto",marginTop:"2em"},children:[Object(k.jsx)("h1",{children:"Workspace TODO"}),Object(k.jsxs)(U.a,{gutter:16,children:[Object(k.jsxs)(H.a,{span:12,style:{display:"grid"},children:[Object(k.jsx)("h2",{children:"Editor"}),Object(k.jsx)(_.a,{value:s,options:{mode:"text/x-markdown",theme:"default",keyMap:"sublime"},onChange:function(e,t){console.log(t);var s,r=e.getValue("\n");n(r),s=r,o(j.makeHtml(s))}})]}),Object(k.jsxs)(H.a,{span:12,children:[Object(k.jsx)("h2",{children:"Renderer"}),Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})]})]}),Object(k.jsx)("br",{})]}),Object(k.jsxs)(g.a,{style:{width:"90%",margin:"auto",marginTop:"2em"},children:[Object(k.jsx)("h1",{children:"DEBUG"}),Object(k.jsx)("p",{children:"Note, also have to fix repaint issue"}),Object(k.jsx)("pre",{children:Object(k.jsx)("code",{children:s})})]})]})}),A=s(415),J=s(189),V=new(s.n(J).a);var B,Q=function(e){var t=e.onRecieveNewConnection,s=e.onRecieveClosedConnection,n=e.onRecieveData,r=e.onDirectConnect,a=e.forwardingOn,c=void 0===a||a,o=void 0===n?function(e,t){console.log("Peer",e,"sent",t)}:n,j=void 0===t?function(e){console.log("Peer",e,"joined"),I(e,"Hello the other world!")}:t,l=void 0===s?function(e){return console.log("Peer",e,"left")}:s,d=void 0===r?function(e){return I(e,"Hi!")}:r,u=Object(i.useState)(""),m=Object(x.a)(u,2),b=m[0],h=m[1],p=Object(i.useState)(new Set),O=Object(x.a)(p,2),f=O[0],g=O[1],v=Object(i.useState)(new Map),y=Object(x.a)(v,2),w=y[0],k=y[1],P=function(e,t,s){e.send({peerId:t,data:s})},I=function(e,t){f.forEach((function(s){s.peer===e&&P(s,V.id,t)}))},S=function(e){e.on("data",(function(t){var s,n;s=t.peerId,n=t.data,k(new Map(w.set(s,n))),function(e,t){!0===c&&f.forEach((function(s){s.peer!==e.peerId&&s.peer!==t&&s.send(e)}))}(t,e.peer),o(t.peerId,t.data)}))};return Object(i.useEffect)((function(){V.on("open",(function(e){h(e),V.on("connection",(function(t){t.on("open",(function(){g(f.add(t)),S(t),j(t.peer)})),t.on("close",(function(){g(f.delete(t)),l(e)})),console.log("peerMeee",V)}))}))}),[]),{myPeerId:b,peerMeee:V,peerConns:f,peersData:w,sendPeersData:function(e){f.forEach((function(t){P(t,V.id,e)}))},directPeerConnect:function(e){var t=V.connect(e);g(f.add(t)),t.on("open",(function(){d(e),S(t)}))}}},G=A.a.Panel;function W(e){switch(typeof e){case"object":return"object";case"function":return"function";default:return e+""}}var K=function(){var e=Object(i.useState)("# Heading\n\n Hello"),t=Object(x.a)(e,2),s=t[0],n=t[1],r=Object(i.useState)(""),a=Object(x.a)(r,2),c=a[0],o=a[1],j=new R.a.Converter,l=Object(i.useRef)(null),d=Q({onRecieveData:function(e,t){var s=JSON.parse(t);null!==B&&void 0!==B.doc&&B.doc.replaceRange("+delete"===s.origin?"":s.text,s.from,s.to,"PEER")}}),u=d.myPeerId,m=d.peerMeee,b=d.peerConns,h=d.peersData,p=d.sendPeersData,O=d.directPeerConnect,f=function(){return O(l.current.value)},v=function(){return Array.from(h,(function(e){var t=Object(x.a)(e,2),s=t[0],n=t[1];return Object(k.jsxs)("div",{id:s,children:[s in m.connections?Object(k.jsxs)("h4",{children:["Direct Peer: ",s]}):Object(k.jsxs)("h4",{children:["Indirect Peer: ",s]}),Object(k.jsx)("pre",{children:W(n)})]},s)}))};function y(){return Object(k.jsx)(A.a,{defaultActiveKey:["1"],children:Object(k.jsxs)(G,{header:"Connection Settings",children:[Object(k.jsx)("h3",{children:"My peerId"}),Object(k.jsx)("div",{children:u}),Object(k.jsx)("h3",{children:"Join"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{ref:l,type:"text",placeholder:"Peer"}),Object(k.jsx)("button",{type:"submit",onClick:f,children:"Join"})]}),Object(k.jsx)("h3",{children:"My Message"}),Object(k.jsx)("textarea",{onChange:function(e){return p(e.target.value)}}),Object(k.jsx)("h3",{children:"Connected Users:"}),Object(k.jsx)(v,{}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"submit",onClick:function(){return console.log(m)},children:"peerMeee"}),Object(k.jsx)("button",{type:"submit",onClick:function(){return console.log(b)},children:"peerConns"})]})]},"1")})}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(g.a,{style:{width:"90%",margin:"auto",marginTop:"2em"},children:[Object(k.jsx)(y,{}),Object(k.jsx)("br",{}),Object(k.jsx)("h1",{children:"Workspace TODO"}),Object(k.jsxs)(U.a,{gutter:16,children:[Object(k.jsxs)(H.a,{span:12,style:{display:"grid"},children:[Object(k.jsx)("h2",{children:"Editor"}),Object(k.jsx)(_.a,{value:s,height:"60vh",options:{mode:"text/x-markdown",theme:"default",keyMap:"sublime"},onChange:function(e,t){void 0===B&&(B=e),"PEER"!==t.origin&&p(JSON.stringify(t));var s,r=e.getValue("\n");n(r),s=r,o(j.makeHtml(s))}})]}),Object(k.jsxs)(H.a,{span:12,children:[Object(k.jsx)("h2",{children:"Renderer"}),Object(k.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})]})]}),Object(k.jsx)("br",{})]}),Object(k.jsxs)(g.a,{style:{width:"90%",margin:"auto",marginTop:"2em"},children:[Object(k.jsx)("h1",{children:"Set Connection"}),Object(k.jsx)("h1",{children:"DEBUG"}),Object(k.jsx)("p",{children:"Note, also have to fix repaint issue"}),Object(k.jsx)("pre",{children:Object(k.jsx)("code",{children:s})}),Object(k.jsx)("button",{onClick:function(){return console.log(B)},children:"Print Editor"})]})]})},X=function(){return Object(k.jsxs)(u.d,{children:[Object(k.jsx)(u.b,{exact:!0,path:b,component:T}),Object(k.jsx)(u.b,{exact:!0,path:h,component:$}),Object(k.jsx)(u.b,{exact:!0,path:m,component:P}),Object(k.jsx)(u.b,{exact:!0,path:p,component:z}),Object(k.jsx)(u.b,{exact:!0,path:O,component:K})]})},Y=s(413),Z=s(145),ee=(s(287),function(){return Object(k.jsx)(Y.a,{ghost:!1,style:{height:"100%",background:"inherit"},title:Object(k.jsx)(Z.a,{theme:"dark",mode:"horizontal",children:Object(k.jsxs)(Z.a.Item,{children:[Object(k.jsx)(w.b,{to:m,children:"Projects"})," "]},"1")}),extra:[Object(k.jsx)(Z.a,{theme:"dark",mode:"horizontal",children:Object(k.jsx)(Z.a.Item,{children:Object(k.jsx)(w.b,{to:b,children:"Signin"})},"1")},"right")]})}),te=s(410),se=te.a.Header,ne=te.a.Content;var re=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(w.a,{children:Object(k.jsxs)(te.a,{style:{background:"inherit"},children:[Object(k.jsx)(se,{children:Object(k.jsx)(ee,{})}),Object(k.jsx)(ne,{children:Object(k.jsx)(X,{})})]})})})},ae=new o.a({link:Object(l.a)({uri:"http://localhost:5000"}),cache:new j.a}),ce=Object(k.jsx)(d.ApolloProvider,{client:ae,children:Object(k.jsx)(re,{})}),ie=function(e){e&&e instanceof Function&&s.e(122).then(s.bind(null,419)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),r(e),a(e),c(e)}))};c.a.render(ce,document.getElementById("root")),ie()}},[[288,5,6]]]);
//# sourceMappingURL=main.78e58f2f.chunk.js.map